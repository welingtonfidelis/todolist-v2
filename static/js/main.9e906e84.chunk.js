(this["webpackJsonptodolist-v2"]=this["webpackJsonptodolist-v2"]||[]).push([[0],{309:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},316:function(e,t){},318:function(e,t){},329:function(e,t){},331:function(e,t){},358:function(e,t){},360:function(e,t){},361:function(e,t){},366:function(e,t){},368:function(e,t){},374:function(e,t){},376:function(e,t){},395:function(e,t){},407:function(e,t){},410:function(e,t){},413:function(e,t,a){},420:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(22),r=a.n(o),i=a(11),s=a(78),l=a(79),d=a(426),j=a(428),u=a(429),O=a(30),b=a.n(O),m=a(427),f=a(155),v=a(425),p=(a(219),a(6)),x=m.a.TextArea;function h(e){return Object(p.jsx)("div",{className:"input-text-area-component-content",children:Object(p.jsx)(m.a,Object(i.a)(Object(i.a)({size:"large",allowClear:!0},e),{},{children:e.children}))})}function g(e){return Object(p.jsx)("div",{className:"input-text-area-component-content",children:Object(p.jsx)(x,Object(i.a)(Object(i.a)({size:"large",allowClear:!0,rows:6},e),{},{children:e.children}))})}function T(e){return Object(p.jsx)("div",{className:"date-picker-component-content",children:Object(p.jsx)(f.a,Object(i.a)({size:"large",allowClear:!0},e))})}function S(e){return Object(p.jsx)("div",{className:"date-picker-component-content",children:Object(p.jsx)(v.a,Object(i.a)({size:"large",allowClear:!0},e))})}a(309);var y={id:null,color:null,description:null,date:"",time:""},D=function(e){var t=d.a.useForm(),a=Object(s.a)(t,1)[0];Object(n.useEffect)((function(){e.visible&&c()}),[e.visible]);var c=function(){e.id?a.setFieldsValue(Object(i.a)(Object(i.a)({},e),{},{date:e.date&&e.date.length?b()(e.date):null,time:e.time&&e.time.length?b()(e.time):null})):a.setFieldsValue(Object(i.a)({},y))};return Object(p.jsx)(j.a,{onOk:function(){return a.submit()},visible:e.visible,onCancel:e.onCancel,okText:"Salvar",cancelText:"Cancelar",title:e.id?"Editar tarefa":"Nova tarefa",children:Object(p.jsxs)(d.a,{onFinish:e.onOk,form:a,className:"modal-todo-component-content",children:[Object(p.jsx)(d.a.Item,{name:"id",style:{display:"none"},children:Object(p.jsx)(h,{})}),Object(p.jsx)(d.a.Item,{name:"done",style:{display:"none"},children:Object(p.jsx)(h,{})}),Object(p.jsx)(d.a.Item,{name:"color",rules:[{required:!0,message:"Escolha uma cor"}],className:"color-palette",children:Object(p.jsxs)(u.a.Group,{children:[Object(p.jsx)(u.a,{value:"F4A261",style:{background:"#F4A261"}}),Object(p.jsx)(u.a,{value:"FFC6FF",style:{background:"#FFC6FF"}}),Object(p.jsx)(u.a,{value:"FFADAD",style:{background:"#FFADAD"}}),Object(p.jsx)(u.a,{value:"CAFFBF",style:{background:"#CAFFBF"}}),Object(p.jsx)(u.a,{value:"A0C4FF",style:{background:"#A0C4FF"}})]})}),Object(p.jsx)(d.a.Item,{name:"description",rules:[{required:!0,message:"Insira uma descri\xe7\xe3o"}],className:"input-text",children:Object(p.jsx)(g,{placeholder:"Descri\xe7\xe3o"})}),Object(p.jsxs)("div",{className:"input-date-time",children:[Object(p.jsx)(d.a.Item,{name:"date",children:Object(p.jsx)(T,{format:"DD/MM/YYYY"})}),Object(p.jsx)(d.a.Item,{name:"time",children:Object(p.jsx)(S,{format:"HH:mm"})})]})]})})},N=a(49);a(310);function A(e){return Object(p.jsx)("div",{className:"primary-button-component-content",children:Object(p.jsx)(N.a,Object(i.a)(Object(i.a)({type:"primary"},e),{},{children:e.children}))})}var E=a(57);a(311);function k(e){var t="";if(e.date){var a=b()(e.date);b()().isAfter(a,"date")&&(t="date-expired")}return Object(p.jsxs)("div",{className:"todo-item-component-content",style:{background:"#".concat(e.color)},children:[Object(p.jsxs)("div",{className:"col-1",children:[Object(p.jsx)("div",{className:"description",children:e.description}),Object(p.jsxs)("div",{className:"date-time",children:[Object(p.jsx)("div",{className:"date ".concat(t),children:e.date&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(E.d,{}),Object(p.jsx)("span",{children:b()(new Date(e.date)).utc().format("DD/MM/YYYY")})]})}),Object(p.jsx)("div",{className:"time",children:e.time&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(E.b,{}),Object(p.jsx)("span",{children:b()(new Date(e.time)).utc().format("HH:mm")})]})})]})]}),Object(p.jsxs)("div",{className:"col-2",children:[Object(p.jsx)(E.c,{onClick:e.onEditTodo}),e.done?Object(p.jsx)(E.a,{onClick:e.onChangeStatusTodo}):Object(p.jsx)(E.e,{onClick:e.onChangeStatusTodo})]})]})}var _=a(227),F=a(233),I=function(e){return F.a[e.type]({message:e.message,description:e.description,duration:5})},C=function(e){try{var t=localStorage.getItem("todo@list#v2"),a=t?JSON.parse(t):[];return a.length&&e.status&&(a=a.filter((function(t){return t.done===("done"===e.status)}))),{ok:!0,data:a}}catch(n){return I({type:"error",description:"Lista de tarefas",message:"Houve um erro ao tentar trazer a lista de tarefas. Por favor, tente novamente."}),console.log("SAVE NEW TODO ERROR",n),{ok:!1}}},R=(a(413),a(88)),L="START_TODO_LIST_LOAD",M="STOP_TODO_LIST_LOAD",P="START_TODO_SAVE_LOAD",w="STOP_TODO_SAVE_LOAD",J="START_TODO_ITEM_ACTION_LOAD",z="STOP_TODO_ITEM_ACTION_LOAD",H="UPDATE_TODO_LIST",Y="ADD_TODO_ITEM",U="REMOVE_TODO_ITEM",V="UPDATE_TODO_ITEM",q="UPDATE_STATUS_TODO_ITEM",B=function(e){return{type:H,payload:e}},G={color:"",description:"",date:"",time:"",done:!1};function W(){var e=Object(n.useState)("todo"),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(s.a)(o,2),d=r[0],j=r[1],u=Object(n.useState)(G),O=Object(s.a)(u,2),m=O[0],f=O[1],v=Object(R.b)(),x=Object(R.c)((function(e){return e.todo}));Object(n.useEffect)((function(){var e=C({status:"todo"}),t=e.ok,a=e.data;t&&v(B(a))}),[]);var h=function(){j(!0)},g=function(){j(!1),f(G)},T=function(e){c(e);var t=C({status:"all"!==e?e:void 0}),a=t.ok,n=t.data;a&&v(B(n))},S=function(e,t){var n=function(e,t){try{var a,n=JSON.parse(localStorage.getItem("todo@list#v2"));return n=n.map((function(n){return n.id===e&&(n.done=t,a=n),n})),localStorage.setItem("todo@list#v2",JSON.stringify(n)),{ok:!0,data:a}}catch(c){return I({type:"error",description:"Salvar tarefa",message:"Houve um erro ao tentar salvar a tarefa. Por favor, tente novamente."}),console.log("UPDATE TODO STATUS ERROR",c),{ok:!1}}}(e,t);n.ok&&(v({type:q,payload:{id:e,status:t}}),(t&&!["done","all"].includes(a)||!t&&["done"].includes(a))&&v(function(e){return{type:U,payload:e}}({id:e})))};return Object(p.jsxs)("div",{className:"todo-list-component-content",children:[Object(p.jsxs)("div",{className:"new-todo-content",children:[Object(p.jsx)("span",{children:"Aqui est\xe1 o que temos para fazer."}),Object(p.jsx)(A,{onClick:h,children:"Nova tarefa"})]}),Object(p.jsxs)("div",{className:"menu",children:[Object(p.jsx)("span",{className:"done"===a?"menu-selected":"",onClick:function(){return T("done")},children:"Feitas"}),Object(p.jsx)("span",{className:"todo"===a?"menu-selected":"",onClick:function(){return T("todo")},children:"\xc0 fazer"}),Object(p.jsx)("span",{className:"all"===a?"menu-selected":"",onClick:function(){return T("all")},children:"Todas"})]}),Object(p.jsx)("div",{className:"list",children:x.list.length?x.list.map((function(e){return Object(n.createElement)(k,Object(i.a)(Object(i.a)({},e),{},{key:e.id,onEditTodo:function(){return function(e){f(e),h()}(e)},onChangeStatusTodo:function(){return S(e.id,!e.done)}}))})):Object(p.jsx)(l.a,{description:"Lista vazia",className:"list-empty",image:l.a.PRESENTED_IMAGE_SIMPLE})}),Object(p.jsx)(D,Object(i.a)({visible:d,title:"Nova tarefa",onOk:function(e){if(e.date=e.date?b()(new Date(e.date)).utc().format():"",e.time=e.time?b()(new Date(e.time)).utc().format():"",e.done=e.done||!1,e.id){var t=function(e){try{var t=JSON.parse(localStorage.getItem("todo@list#v2"));return t=t.map((function(t){return t.id===e.id&&(t=e),t})),localStorage.setItem("todo@list#v2",JSON.stringify(t)),{ok:!0,data:e}}catch(a){return I({type:"error",description:"Salvar tarefa",message:"Houve um erro ao tentar salvar a tarefa. Por favor, tente novamente."}),console.log("UPDATE TODO ERROR",a),{ok:!1}}}(e),a=t.ok,n=t.data;a&&v({type:V,payload:n})}else{var c=function(e){try{e.id=Object(_.randomBytes)(8).toString("hex");var t=localStorage.getItem("todo@list#v2"),a=t?JSON.parse(t):[];return a.push(e),localStorage.setItem("todo@list#v2",JSON.stringify(a)),{ok:!0,data:e}}catch(n){return I({type:"error",description:"Salvar tarefa",message:"Houve um erro ao tentar criar a tarefa. Por favor, tente novamente."}),console.log("SAVE NEW TODO ERROR",n),{ok:!1}}}(e),o=c.ok,r=c.data;o&&v(function(e){return{type:Y,payload:e}}(r))}g()},onCancel:g},m))]})}a(420);function K(){return Object(p.jsx)("div",{className:"user-avatar-component-content",children:Object(p.jsx)(E.f,{})})}a(421);function Q(){return Object(p.jsxs)("div",{className:"header-content",children:[Object(p.jsx)("span",{children:"Ol\xe1, Seja bem vindo(a) de volta!"}),Object(p.jsx)(K,{})]})}a(422);var X=function(){return Object(p.jsxs)("div",{className:"app-content",children:[Object(p.jsx)(Q,{}),Object(p.jsx)(W,{})]})},Z=a(154),$={loadingList:!1,loadingSave:!1,list:[]},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:var a=Object(i.a)(Object(i.a)({},e),{},{loadingList:!0});return a;case M:var n=Object(i.a)(Object(i.a)({},e),{},{loadingList:!1});return n;case P:var c=Object(i.a)(Object(i.a)({},e),{},{loadingSave:!0});return c;case w:var o=Object(i.a)(Object(i.a)({},e),{},{loadingSave:!1});return o;case J:var r=t.payload,s=e.list;s[r]=Object(i.a)(Object(i.a)({},s[r]),{},{loadingItemAction:!0});var l=Object(i.a)(Object(i.a)({},e),{},{list:s});return l;case z:var d=t.payload,j=e.list;j[d]=Object(i.a)(Object(i.a)({},j[d]),{},{loadingItemAction:!1});var u=Object(i.a)(Object(i.a)({},e),{},{list:j});return u;case H:var O=Object(i.a)(Object(i.a)({},e),{},{list:t.payload});return O;case Y:return e.list.push(t.payload),e;case U:var b=t.payload.id;return Object(i.a)(Object(i.a)({},e),{},{list:e.list.filter((function(e){return e.id!==b}))});case V:var m=t.payload,f=e.list.findIndex((function(e){return e.id===m.id}));return e.list[f]=m,e;case q:var v=t.payload,p=v.id,x=v.status;return Object(i.a)(Object(i.a)({},e),{},{list:e.list.map((function(e){return e.id===p&&(e.done=x),e}))});default:return e}},te=Object(Z.a)({todo:ee}),ae=Object(Z.b)(te);r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(R.a,{store:ae,children:Object(p.jsx)(X,{})})}),document.getElementById("root"))}},[[423,1,2]]]);
//# sourceMappingURL=main.9e906e84.chunk.js.map